<!DOCTYPE html>
<HTML lang="en">
<META charset="UTF-8">
<BODY>
<a href="https://github.com/k1729p/Study02/tree/main/docs"><img  alt="" src="images/ColorScheme.png" height="25" width="800"/></a>
<H2 id="contents">Study02 README Contents</H2>

<p>
Topics: SpringBoot ● Spring WebFlux ● Reactive Streams ● Reactive REST ● MongoDB ● Docker ● MockMvc
</p>

<H3 id="top">Research the Reactive REST Web Service</H3>
<p>
On the server-side <b>WebFlux</b> supports two distinct programming models:
</p>

<UL>
<LI><i>Functional Endpoints</i></LI>
<LI><i>Annotated Controllers</i></LI>
</UL>
Project <b>Study02</b> implements one of them, the "<i>Annotated Controllers</i>" programming model.

<p><img  alt="" src="images/MermaidFlowchart.png" height="295" width="685"/><br>
<img  alt="" src="images/blackArrowUp.png">
<I>The flowchart with Docker containers '<b>study02</b>' and '<b>mongo</b>'.</I>
</p>

<p>
The sections of this project:
</p>

<OL>
<LI><a href="#ONE"><b>Docker Build</b></a></LI>
<LI><a href="#TWO"><b>Web Browser Client</b></a></LI>
<LI><a href="#THREE"><b>Curl Client</b></a></LI>
</OL>

<hr>

<p>
Java source code. Packages:<br>
<img  alt="" src="images/aquaHR-500.png"><br>
<img  alt="" src="images/aquaSquare.png">
    <i>application sources</i>&nbsp;:&nbsp;
	<a href="https://github.com/k1729p/Study02/tree/main/src/main/java/kp">kp</a><br>
    <img alt="" src="images/aquaSquare.png">
    <i>test sources</i>&nbsp;:&nbsp;
    <a href="https://github.com/k1729p/Study02/tree/main/src/test/java/kp">kp</a><br>
<img  alt="" src="images/aquaHR-500.png">
</p>

<br>

<p><img  alt="" src="images/MermaidClassDiagram.png" height="780" width="625"/><br>
<img  alt="" src="images/blackArrowUp.png">
<I>The domain objects class diagram.</I>
</p>

<p>
The repositories for the document database <b>MongoDB</b>:
</p>

<UL>
<LI><a href="https://github.com/k1729p/Study02/blob/main/src/main/java/kp/company/repository/AggregateRelationRepository.java">
kp.company.repository.AggregateRelationRepository</a></LI>
<LI><a href="https://github.com/k1729p/Study02/blob/main/src/main/java/kp/company/repository/DepartmentRepository.java">
kp.company.repository.DepartmentRepository</a></LI>
<LI><a href="https://github.com/k1729p/Study02/blob/main/src/main/java/kp/company/repository/EmployeeRepository.java">
kp.company.repository.EmployeeRepository</a></LI>
</UL>
<p>
These repositories extend Spring <b>ReactiveMongoRepository</b>.
</p>

<p>
<img  alt="" src="images/yellowHR-500.png"><br>
<img alt="" src="images/yellowSquare.png">
<a href="http://htmlpreview.github.io/?https://github.com/k1729p/Study02/blob/main/docs/apidocs/index.html">
Java API Documentation</a>&nbsp;●&nbsp;
<a href="http://htmlpreview.github.io/?https://github.com/k1729p/Study02/blob/main/docs/testapidocs/index.html">
Java Test API Documentation</a><br>
<img alt="" src="images/yellowHR-500.png">
</p>

<hr>
<H3 id="ONE">❶ Docker Build</H3>

<p>Action:<br>
<img  alt="" src="images/orangeHR-500.png"><br>
<img  alt="" src="images/orangeSquare.png"> 1. With batch file
 <a href="https://github.com/k1729p/Study02/blob/main/0_batch/01%20Docker%20build%20and%20run.bat">
 <I>"01 Docker build and run.bat"</I></a> build the image and<br>
<img  alt="" src="images/orangeSquare.png"><img  alt="" src="images/spacer-32.png">start the container with the SpringBoot server.<br>
<img  alt="" src="images/orangeHR-500.png">
</p>

<p><img  alt="" src="images/greenCircle.png">
1.1. Docker image is built using these files:
<a href="https://raw.githubusercontent.com/k1729p/Study02/main/docker-config/Dockerfile"><b>Dockerfile</b></a> and
<a href="https://raw.githubusercontent.com/k1729p/Study02/main/docker-config/compose.yaml"><b>compose.yaml</b></a>.
</p>

<p>
<img  alt="" src="images/ScreenshotDockerContainer.png" height="335" width="950"/><br>
<img  alt="" src="images/blackArrowUp.png">
<I>The screenshot of the created Docker containers.</I>
</p>

<a href="#top">Back to the top of the page</a>
<hr>
<H3 id="TWO">❷ Web Browser Client</H3>

<p>Action:<br>
<img  alt="" src="images/orangeHR-500.png"><br>
<img  alt="" src="images/orangeSquare.png"> 1. With the URL <a href="http://localhost:8380">http://localhost:8380</a> open in the web browser the 
<a href="https://github.com/k1729p/Study02/blob/main/src/main/resources/static/index.html">home page</a>.<br>
<img  alt="" src="images/orangeSquare.png"> 2. On this
<a href="https://github.com/k1729p/Study02/blob/main/src/main/resources/static/index.html">home page</a>
select 'Load sample dataset' <a href="http://localhost:8380/loadSampleDataset">http://localhost:8380/loadSampleDataset</a>.<br>
<img  alt="" src="images/orangeHR-500.png">
</p>

<p><img  alt="" src="images/greenCircle.png">
2.1. The <a href="https://github.com/k1729p/Study02/blob/main/src/main/resources/static/index.html">
home page</a> on the Docker link: <a href="http://localhost:8380/"><b>http://localhost:8380</b></a>.<br>

<img  alt="" src="images/ScreenshotHomePage.png" height="540" width="1035"/><br>
<img  alt="" src="images/blackArrowUp.png">
<I>The screenshot of the home page.</I>
</p>

<p>
Below are presented the results from some selected links on the home page.
</p>

<p><img  alt="" src="images/greenCircle.png">
2.2. The 'Find <b>department and employees</b> by department name' (Mono) link: 
<a href="http://localhost:8380/aggregate/find/findByDepartmentName?departmentName=D-Name-1">
http://localhost:8380/aggregate/find/findByDepartmentName?departmentName=D-Name-1</a>.
</p>

<p>
The controller method:
<a href="https://github.com/k1729p/Study02/blob/main/src/main/java/kp/company/controller/CompanyController.java#L81">
kp.company.controller.CompanyController::findAggregateByDepartmentName</a>.<br>
</p>

<p><img  alt="" src="images/FindDepartmentAndEmployeesByDepartmentName.png" height="315" width="315"/><br>
<img  alt="" src="images/blackArrowUp.png">
<I>The result from the 'Find <b>department and employees</b> by department name' (Mono).</I>
</p>

<p><img  alt="" src="images/greenCircle.png">
2.3. The 'Find <b>department and employees</b> by department name' (Flux) link: 
<a href="http://localhost:8380/aggregateFlux/find/findByDepartmentName?departmentName=D-Name-1">
http://localhost:8380/aggregateFlux/find/findByDepartmentName?departmentName=D-Name-1</a>.
</p>

<p>
The controller method:
<a href="https://github.com/k1729p/Study02/blob/main/src/main/java/kp/company/controller/CompanyController.java#L111">
kp.company.controller.CompanyController::findAggregateFluxByDepartmentName</a>.<br>
</p>

<p><img  alt="" src="images/FindDepartmentAndEmployeesByDepartmentNameFlux.png" height="650" width="340"/><br>
<img  alt="" src="images/blackArrowUp.png">
<I>The result from the 'Find <b>department and employees</b> by department name' (Flux).</I>
</p>

<p><img  alt="" src="images/greenCircle.png">
2.4. The 'Find <b>all departments</b>' link: <a href="http://localhost:8380/departments">
http://localhost:8380/departments</a>.
</p>

<p>
The controller method:
<a href="https://github.com/k1729p/Study02/blob/main/src/main/java/kp/company/controller/DepartmentController.java#L39">
kp.company.controller.DepartmentController::findDepartments</a>.
</p>

<p><img  alt="" src="images/FindAllDepartments.png" height="180" width="290"/><br>
<img  alt="" src="images/blackArrowUp.png">
<I>The result from the 'Find <b>all departments</b>'.</I>
</p>

<p><img  alt="" src="images/greenCircle.png">
2.5. The 'Find <b>department</b> by name' link: <a href="http://localhost:8380/departments/find/findByName?name=D-Name-1">
http://localhost:8380/departments/find/findByName?name=D-Name-1</a>.
</p>

<p>
The controller method:
<a href="https://github.com/k1729p/Study02/blob/main/src/main/java/kp/company/controller/DepartmentController.java#L53">
kp.company.controller.DepartmentController::findDepartmentByName</a>.<br>
</p>

<p><img  alt="" src="images/FindDepartmentByName.png" height="110" width="290"/><br>
<img  alt="" src="images/blackArrowUp.png">
<I>The result from the 'Find <b>department</b> by name'.</I>
</p>

<p><img  alt="" src="images/greenCircle.png">
2.6. The 'Find <b>all employees</b>' link: <a href="http://localhost:8380/employees">
http://localhost:8380/employees</a>.
</p>
<p>
The controller method:
<a href="https://github.com/k1729p/Study02/blob/main/src/main/java/kp/company/controller/EmployeeController.java#L42">
kp.company.controller.EmployeeController::findEmployees</a>.<br>
</p>
<p><img  alt="" src="images/FindAllEmployees.png" height="385" width="290"/><br>
<img  alt="" src="images/blackArrowUp.png">
<I>The result from the 'Find <b>all employees</b>'.</I>
</p>

<p><img  alt="" src="images/greenCircle.png">
2.7. The 'Find <b>employee</b> by first and last name' link: <a href="http://localhost:8380/employees/find/findByFirstNameAndLastName?firstName=EF-Name-101&amp;lastName=EL-Name-101">
http://localhost:8380/employees/find/findByFirstNameAndLastName?firstName=EF-Name-101&amp;lastName=EL-Name-101</a>.
</p>
<p>
The controller method:
<a href="https://github.com/k1729p/Study02/blob/main/src/main/java/kp/company/controller/EmployeeController.java#L57">
kp.company.controller.EmployeeController::findEmployeeByFirstNameAndLastName</a>.
</p>
<p><img  alt="" src="images/FindEmployeeByFirstAndLastName.png" height="95" width="260"/><br>
<img  alt="" src="images/blackArrowUp.png">
<I>The result from the 'Find <b>employee</b> by first and last name'.</I>
</p>

<p><img  alt="" src="images/greenCircle.png">
2.8. The 'List of actuator endpoints' link: <a href="http://localhost:8380/actuator">
http://localhost:8380/actuator</a>.
</p>
<p><img  alt="" src="images/ListOfActuatorEndpoints.png " height="1435" width="580"/><br>
<img  alt="" src="images/blackArrowUp.png">
<I>The result from the 'List of actuator endpoints'.</I>
</p>

<a href="#top">Back to the top of the page</a>
<hr>
<H3 id="THREE">❸ Curl Client</H3>

<p>Action:<br>
<img  alt="" src="images/orangeHR-500.png"><br>
<img  alt="" src="images/orangeSquare.png"> 1. With batch file
 <a href="https://github.com/k1729p/Study02/blob/main/0_batch/03%20CURL%20call%20server.bat">
 <I>"03 CURL call server.bat"</I></a> load the sample dataset and get departments and employees.<br>
<img  alt="" src="images/orangeHR-500.png">
</p>

<p><img  alt="" src="images/greenCircle.png">
3.1. The <a href="images/ScreenshotCurlCallServer.png">
<b>screenshot</b></a>
of the console log from the run of the batch file <b>"03 CURL call server.bat"</b>
</p>

<a href="#top">Back to the top of the page</a>
<hr>
</BODY>
</HTML>